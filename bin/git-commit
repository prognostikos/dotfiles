#!/bin/bash

set -euo pipefail

if [ -n "${RUNNING_IN_DEVCONTAINER:-}" ]; then
  echo "Error: git commit is disabled in devcontainer environments" >&2
  exit 1
fi

# Remove this script's directory from PATH to find the real git
script_dir="$(cd "$(dirname "$0")" && pwd)"
PATH="${PATH//$script_dir:/}"
PATH="${PATH//:$script_dir/}"

exec git commit "$@"
